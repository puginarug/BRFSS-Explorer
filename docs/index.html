<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BRFSS-Explorer — Mental Health Data Explorer</title>
  <meta name="description" content="Interactive exploration of mental health risk factors across 449,000 US adults. BRFSS 2024 data, PyTorch model.">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">

    <!-- Header -->
    <header>
      <p class="eyebrow">BRFSS 2024 &middot; CDC Public Data &middot; 449,000 US Adults</p>
      <h1>Mental Health Data Explorer</h1>
      <p class="subtitle">
        <span>How does loneliness affect mental health burden?</span>
        <span>Financial stress?</span>
        <span>Age?</span>
        <span>Pick any variable below to find out.</span>
      </p>
    </header>

    <!-- Stat cards -->
    <section class="stats" aria-label="Key statistics">
      <div class="card">
        <span class="value">449k</span>
        <span class="label">Adults Surveyed</span>
      </div>
      <div class="card">
        <span class="value">13.2%</span>
        <span class="label">Classified High&ndash;Risk (&gt;14 bad days/mo)</span>
      </div>
      <div class="card">
        <span class="value">+0.41 &rho;</span>
        <span class="label">Loneliness &mdash; strongest social predictor</span>
      </div>
    </section>

    <hr class="divider">

    <!-- ── Panel 1: Distribution ───────────────────────────────────── -->

    <div class="panel-header">
      <span class="panel-number">1</span>
      <div>
        <p class="panel-title">Distribution</p>
        <p class="panel-subtitle">How are respondents spread across each factor?</p>
      </div>
    </div>

    <div class="controls">
      <div class="control-group">
        <span>Variable</span>
        <select id="dist-select" aria-label="Variable to show distribution for"></select>
      </div>
    </div>

    <div id="dist-chart">
      <p class="loading">Loading data&hellip;</p>
    </div>

    <p id="dist-desc"></p>

    <hr class="divider">

    <!-- ── Panel 2: Relationships ──────────────────────────────────── -->

    <div class="panel-header">
      <span class="panel-number">2</span>
      <div>
        <p class="panel-title">Relationships</p>
        <p class="panel-subtitle">How does each factor relate to mental health outcomes?</p>
      </div>
    </div>

    <div class="controls">

      <div class="control-group">
        <span>Y&nbsp;&mdash;&nbsp;Outcome</span>
        <select id="y-select" aria-label="Y-axis outcome">
          <option value="menthlth_days">Mental Health Days (0–30 / month)</option>
          <option value="life_satisfaction">Life Satisfaction (1=Best → 4=Worst)</option>
        </select>
      </div>

      <div class="control-group">
        <span>X&nbsp;&mdash;&nbsp;Risk Factor</span>
        <select id="x-select" aria-label="X-axis risk factor"></select>
      </div>

      <div class="control-group">
        <span>Chart&nbsp;Type</span>
        <select id="chart-type" aria-label="Chart type">
          <option value="bar">Bar (mean)</option>
          <option value="box">Box plot (spread)</option>
        </select>
      </div>

      <div class="rho-group">
        <span>Spearman &rho;</span>
        <span id="correlation">&mdash;</span>
      </div>

    </div>

    <div id="chart">
      <p class="loading">Loading data&hellip;</p>
    </div>

    <p id="feature-desc"></p>

    <hr class="divider">

    <!-- Context note -->
    <p style="font-size:0.82rem; color: var(--text-dim); line-height: 1.7;">
      <strong style="color:var(--text-muted)">Panel 1</strong> shows the percentage of the
      67,428 test-set respondents at each level of the selected variable.
      <strong style="color:var(--text-muted)">Panel 2</strong> shows either the
      <strong style="color:var(--text-muted)">mean</strong> (bar) or the full distribution
      (box plot: median line, IQR box, whiskers at 1.5&times;IQR) of the chosen outcome
      per level. Spearman &rho; measures monotone correlation
      (&minus;1 = perfectly inverse, 0 = none, +1 = perfectly aligned).
    </p>

    <!-- Footer -->
    <footer>
      <span>Built by David Zingerman &mdash; computational biologist → data science</span>
      <span>
        <a href="https://github.com/puginarug/BRFSS-Explorer" target="_blank" rel="noopener">GitHub</a>
        &nbsp;&middot;&nbsp;
        <a href="https://www.cdc.gov/brfss/annual_data/annual_2024.html" target="_blank" rel="noopener">BRFSS 2024 (CDC)</a>
      </span>
    </footer>

  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
